<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
  <title>CoffeeGram</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="resources/stylesheets/app.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</h:head>

<h:body>
  <h:panelGroup layout="block" class="">
    <h:panelGroup layout="block" class="jumbotron">
      <h:panelGroup layout="block" class="container">
          <h1>Welcome to CoffeeGram #{newsFeed.currentUser.userID}</h1>
        <p>The only website that allows you to show affection towards your favourite cup of coffee 
            
        </p>
        <h:outputLink class="btn btn-primary btn-large float-right" value="#{currentUser.addPost()}">Add a new Coffee</h:outputLink>
            <h:link class="btn btn-success btn-large float-right" value="View your profile" outcome="profile.xhtml" includeViewParams="true">
                <f:param value="#{newsFeed.currentUser.userID}" name="userID"/>
                  </h:link>
      </h:panelGroup>
    </h:panelGroup>
    <h:panelGroup layout="block" class="row index container">
      <!--<% coffees.forEach((coffee)=>{%>-->
      <c:forEach var="i" items="${newsFeed.feedPhotos}">
        <h:panelGroup layout="block" class="col-md-3 col-sm-6">
          <figure class="figure">
              <h:graphicImage library="images" name="#{i.photoSrc}" title="img name" class="indexImage figure-img img-fluid rounded"
              alt="A generic square placeholder image with rounded corners in a figure."/>
            <figcaption class="figure-caption">
                <h4>#{i.caption}</h4>
              <!--<h4><%= coffee.name %></h4>-->
              <p>
                  <h:link class="btn btn-outline-info btn-sm" value="More Info" outcome="viewPost.xhtml" includeViewParams="true">
                      <f:param value="#{i.photoID}" name="photoID"/>
                  </h:link>
                <!--<a href="/coffees/<%= coffee._id %>" class="btn btn-primary">More Info</a>-->
              </p>
            </figcaption>
          </figure>
        </h:panelGroup>
      <!--<%});%>-->
      </c:forEach>
    </h:panelGroup>

  </h:panelGroup>
</h:body>

</html>